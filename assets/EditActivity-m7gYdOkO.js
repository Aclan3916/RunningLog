import{a as g,u as p,r as u,j as e,C as m,B as i}from"./index-DOe4G4Vl.js";import{V as d,S as x,T as n,B as j,a as v,u as y}from"./api-BPly7E4y.js";import{I as l}from"./input-B9vUFS2-.js";const b=()=>{const{id:s}=g(),c=p(),[t,r]=u.useState(null);u.useEffect(()=>{(async()=>{if(s)try{console.log("Loading activity with id:",s);const o=await v(s);console.log("Loaded activity:",o),r(o)}catch(o){console.error("Failed to load activity:",o),c("/activities")}})()},[s,c]);const h=async a=>{if(a.preventDefault(),!(!t||!s))try{console.log("Updating activity:",t),await y(s,{run_title:t.run_title,run_location:t.run_location,distance:t.distance,elapsed_time:t.elapsed_time,working_time:t.working_time,pace:t.pace,rating:t.rating}),c("/activities")}catch(o){console.error("Failed to update activity:",o)}};return t?e.jsx(m,{maxW:"container.sm",py:8,children:e.jsx(d,{gap:8,children:e.jsx(i,{as:"form",w:"100%",onSubmit:h,children:e.jsxs(x,{gap:6,children:[e.jsxs(i,{as:"fieldset",borderWidth:"1px",rounded:"lg",p:4,children:[e.jsx(n,{as:"legend",fontSize:"lg",fontWeight:"medium",px:2,children:"Basic Information"}),e.jsxs(d,{gap:4,mt:4,children:[e.jsxs(i,{w:"100%",children:[e.jsx(n,{mb:2,children:"Run Name"}),e.jsx(l,{value:t.run_title,onChange:a=>r({...t,run_title:a.target.value}),placeholder:"Morning Run"})]}),e.jsxs(i,{w:"100%",children:[e.jsx(n,{mb:2,children:"Location"}),e.jsx(l,{value:t.run_location,onChange:a=>r({...t,run_location:a.target.value}),placeholder:"Central Park"})]})]})]}),e.jsxs(i,{as:"fieldset",borderWidth:"1px",rounded:"lg",p:4,children:[e.jsx(n,{as:"legend",fontSize:"lg",fontWeight:"medium",px:2,children:"Distance and Time"}),e.jsxs(d,{gap:4,mt:4,children:[e.jsxs(i,{w:"100%",children:[e.jsx(n,{mb:2,children:"Distance (miles)"}),e.jsx(l,{type:"number",step:"0.01",value:t.distance,onChange:a=>r({...t,distance:a.target.value}),placeholder:"5.0"})]}),e.jsxs(i,{w:"100%",children:[e.jsx(n,{mb:2,children:"Elapsed Time (minutes)"}),e.jsx(l,{type:"number",value:t.elapsed_time,onChange:a=>r({...t,elapsed_time:a.target.value}),placeholder:"45"})]}),e.jsxs(i,{w:"100%",children:[e.jsx(n,{mb:2,children:"Working Time (minutes)"}),e.jsx(l,{type:"number",value:t.working_time,onChange:a=>r({...t,working_time:a.target.value}),placeholder:"42"})]})]})]}),e.jsx(j,{type:"submit",colorScheme:"gray",size:"lg",width:"100%",children:"Save Changes"})]})})})}):e.jsx(m,{maxW:"container.md",py:8,children:"Loading..."})};export{b as default};
