import{c as C,r as h,j as n,R as u,u as H,C as j,B as c}from"./index-DOe4G4Vl.js";import{B as E,S as V,s as _,V as B,T as d,f as z,d as R}from"./api-BPly7E4y.js";import{H as b}from"./heading-B5WwFHSm.js";const{withContext:L}=C({key:"badge"}),x=L("span"),y=h.forwardRef(function(t,r){return n.jsx(E,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:r,...t})}),f=h.forwardRef(function(t,r){return n.jsx(V,{align:"center",...t,direction:"row",ref:r})});var O={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},v=u.createContext&&u.createContext(O),W=["attr","size","title"];function Z(e,t){if(e==null)return{};var r=D(e,t),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)i=l[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function D(e,t){if(e==null)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},g.apply(this,arguments)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(i){N(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function N(e,t,r){return t=I(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){var t=M(e,"string");return typeof t=="symbol"?t:t+""}function M(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S(e){return e&&e.map((t,r)=>u.createElement(t.tag,p({key:r},t.attr),S(t.child)))}function P(e){return t=>u.createElement(A,g({attr:p({},e.attr)},t),S(e.child))}function A(e){var t=r=>{var{attr:i,size:o,title:l}=e,a=Z(e,W),s=o||r.size||"1em",m;return r.className&&(m=r.className),e.className&&(m=(m?m+" ":"")+e.className),u.createElement("svg",g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,a,{className:m,style:p(p({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),l&&u.createElement("title",null,l),e.children)};return v!==void 0?u.createElement(v.Consumer,null,r=>t(r)):t(O)}function T(e){return P({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Edit"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M3.548,20.938h16.9a.5.5,0,0,0,0-1H3.548a.5.5,0,0,0,0,1Z"},child:[]},{tag:"path",attr:{d:"M9.71,17.18a2.587,2.587,0,0,0,1.12-.65l9.54-9.54a1.75,1.75,0,0,0,0-2.47l-.94-.93a1.788,1.788,0,0,0-2.47,0L7.42,13.12a2.473,2.473,0,0,0-.64,1.12L6.04,17a.737.737,0,0,0,.19.72.767.767,0,0,0,.53.22Zm.41-1.36a1.468,1.468,0,0,1-.67.39l-.97.26-1-1,.26-.97a1.521,1.521,0,0,1,.39-.67l.38-.37,1.99,1.99Zm1.09-1.08L9.22,12.75l6.73-6.73,1.99,1.99Zm8.45-8.45L18.65,7.3,16.66,5.31l1.01-1.02a.748.748,0,0,1,1.06,0l.93.94A.754.754,0,0,1,19.66,6.29Z"},child:[]}]}]}]})(e)}function k(e){return P({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 11H11V17H9V11ZM13 11H15V17H13V11ZM9 4V6H15V4H9Z"},child:[]}]})(e)}const K=()=>{window.supabase=_;const[e,t]=h.useState([]),[r,i]=h.useState(!1),o=H();h.useEffect(()=>{(async()=>{i(!0);try{const s=await z();t(s)}catch(s){console.error("Failed to load activities:",s)}i(!1)})()},[]);const l=async a=>{try{await R(String(a)),t(e.filter(s=>String(s.id)===String(a)))}catch(s){console.error("Failed to delete run:",s)}};return r?n.jsx(j,{maxW:"container.md",py:8,children:"Loading..."}):n.jsx(j,{maxW:"container.md",py:8,children:n.jsxs(B,{gap:8,align:"stretch",children:[n.jsxs(b,{size:"xl",mb:6,children:["Your Activities Bro(",e.length,")"]}),e.map(a=>n.jsxs(c,{borderWidth:"1px",borderRadius:"lg",p:6,_hover:{transform:"translateY(-2px)",transition:"all 0.2s",boxShadow:"md"},children:[n.jsxs(f,{justify:"space-between",mb:4,children:[n.jsx(b,{size:"md",children:a.run_title}),n.jsx(d,{color:"gray.500",children:new Date(a.created_at).toLocaleDateString()})]}),n.jsxs(f,{gap:4,mb:4,children:[n.jsx(x,{colorScheme:"gray",children:a.run_location}),n.jsxs(x,{colorScheme:"gray",children:[a.distance," miles"]}),n.jsxs(x,{colorScheme:"gray",children:[a.pace," min/mile"]})]}),n.jsx(c,{borderBottom:"1px",borderColor:"gray.200",mb:4}),n.jsxs(f,{justify:"space-between",children:[n.jsxs(f,{gap:8,children:[n.jsxs(c,{children:[n.jsx(d,{color:"gray.500",fontSize:"sm",children:"Elapsed Time"}),n.jsxs(d,{fontWeight:"medium",children:[a.elapsed_time," min"]})]}),n.jsxs(c,{children:[n.jsx(d,{color:"gray.500",fontSize:"sm",children:"Working Time"}),n.jsxs(d,{fontWeight:"medium",children:[a.working_time," min"]})]})]}),n.jsxs(c,{children:[n.jsx(d,{color:"gray.500",fontSize:"sm",children:"Rating"}),n.jsx(d,{fontWeight:"medium",children:"â˜…".repeat(a.rating)})]})]}),n.jsxs(f,{justify:"space-between",children:[n.jsx(c,{children:n.jsx(y,{"aria-label":"edit",textStyle:"xs",variant:"ghost",onClick:()=>o(`/edit/${a.id}`),rounded:"full",children:n.jsx(T,{})})}),n.jsx(f,{gap:4,mt:4,children:n.jsx(c,{children:n.jsx(y,{"aria-label":"delete",onClick:()=>l(a.id),variant:"ghost",rounded:"full",children:n.jsx(k,{})})})})]})]},String(a.id)))]})})};export{K as default};
